<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>SPS Matrix - Ultimate DApp</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800;900&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --accent: #f59e0b;
            --danger: #ef4444;
            --purple: #8b5cf6;
            --pink: #ec4899;
            --dark: #0f172a;
            --darker: #020617;
            --light: #f8fafc;
            --glass: rgba(255, 255, 255, 0.07);
            --glass-border: rgba(255, 255, 255, 0.12);
            --shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            --gradient-primary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%);
            --gradient-rainbow: linear-gradient(135deg, #6366f1, #8b5cf6, #ec4899, #f59e0b, #10b981);
            --gradient-glow: linear-gradient(135deg, rgba(99, 102, 241, 0.8), rgba(139, 92, 246, 0.8));
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Vazirmatn', 'Poppins', sans-serif;
            background: var(--darker);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Ù¾Ø§Ø±ØªÛŒÚ©Ù„â€ŒÙ‡Ø§ÛŒ Ù…ØªØ­Ø±Ú© */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -3;
            background: 
                radial-gradient(circle at 20% 50%, rgba(99, 102, 241, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(236, 72, 153, 0.06) 0%, transparent 50%);
        }
        
        /* Ø§ÙÚ©Øª Ù†ÙˆØ± Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ */
        .light-effect {
            position: fixed;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.2) 0%, transparent 70%);
            border-radius: 50%;
            filter: blur(80px);
            z-index: -2;
            animation: moveLight 20s infinite alternate ease-in-out;
        }
        
        .light-effect-1 {
            top: -200px;
            left: -200px;
            animation-delay: 0s;
        }
        
        .light-effect-2 {
            bottom: -200px;
            right: -200px;
            animation-delay: 5s;
        }
        
        @keyframes moveLight {
            0% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(100px, 50px) scale(1.2); }
            50% { transform: translate(-50px, 100px) scale(0.8); }
            75% { transform: translate(150px, -50px) scale(1.1); }
            100% { transform: translate(-100px, -100px) scale(1); }
        }
        
        /* Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø§ØµÙ„ÛŒ */
        .main-container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }
        
        /* Ù‡Ø¯Ø± Ø¨Ø§ Ø§ÙÚ©Øª ÙˆÛŒÚ˜Ù‡ */
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 25px;
            background: var(--glass);
            backdrop-filter: blur(25px);
            border-radius: 35px;
            border: 1px solid var(--glass-border);
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow);
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-rainbow);
            animation: rainbow 3s linear infinite;
        }
        
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
        
        .header::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.03) 50%, transparent 70%);
            animation: shine 3s infinite;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%) skewX(-15deg); }
            100% { transform: translateX(200%) skewX(-15deg); }
        }
        
        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .logo-icon {
            width: 100px;
            height: 100px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 42px;
            color: white;
            box-shadow: 
                0 0 60px rgba(99, 102, 241, 0.6),
                inset 0 0 20px rgba(255, 255, 255, 0.3);
            animation: 
                pulse 2s infinite,
                float 6s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }
        
        .logo-icon::before {
            content: '';
            position: absolute;
            width: 150%;
            height: 150%;
            background: conic-gradient(transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: rotate 4s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 60px rgba(99, 102, 241, 0.6); }
            50% { transform: scale(1.05); box-shadow: 0 0 80px rgba(99, 102, 241, 0.8); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-15px) rotate(2deg); }
            66% { transform: translateY(10px) rotate(-2deg); }
        }
        
        .logo-text {
            text-align: center;
        }
        
        .logo-title {
            font-size: 42px;
            font-weight: 900;
            background: var(--gradient-rainbow);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 300% 300%;
            animation: gradientText 4s ease infinite;
            margin-bottom: 10px;
            letter-spacing: -1px;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes gradientText {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .logo-subtitle {
            font-size: 18px;
            color: #94a3b8;
            font-weight: 300;
            letter-spacing: 1px;
        }
        
        /* ØªØ§ÛŒÙ¾ÙˆÚ¯Ø±Ø§ÙÛŒ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†ÛŒ */
        .typing-text {
            display: inline-block;
            overflow: hidden;
            border-right: 3px solid var(--primary);
            white-space: nowrap;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: var(--primary) }
        }
        
        /* Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ */
        .card {
            background: var(--glass);
            backdrop-filter: blur(25px);
            border-radius: 30px;
            padding: 35px;
            margin-bottom: 30px;
            border: 1px solid var(--glass-border);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        
        .card:hover {
            transform: 
                translateY(-10px) 
                rotateX(5deg) 
                rotateY(-2deg);
            border-color: rgba(99, 102, 241, 0.4);
            box-shadow: 
                0 30px 60px rgba(0, 0, 0, 0.4),
                0 0 100px rgba(99, 102, 241, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 150px;
            height: 150px;
            background: var(--gradient-glass);
            border-radius: 0 30px 0 0;
            opacity: 0.3;
            filter: blur(20px);
        }
        
        .card::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100px;
            height: 100px;
            background: var(--gradient-glass);
            border-radius: 0 0 0 30px;
            opacity: 0.2;
            filter: blur(15px);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        .card-icon {
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            color: white;
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.4);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .card:hover .card-icon {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 15px 35px rgba(99, 102, 241, 0.6);
        }
        
        .card-icon::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: rotate(45deg);
            animation: shineIcon 3s infinite;
        }
        
        @keyframes shineIcon {
            0% { transform: translateX(-100%) rotate(45deg); }
            100% { transform: translateX(100%) rotate(45deg); }
        }
        
        .card-title {
            font-size: 26px;
            font-weight: 800;
            color: var(--light);
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        /* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ */
        .btn {
            width: 100%;
            padding: 22px;
            border: none;
            border-radius: 20px;
            font-size: 20px;
            font-weight: 700;
            margin: 18px 0;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 18px;
            font-family: 'Vazirmatn', sans-serif;
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transform-style: preserve-3d;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.8s;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn:hover {
            transform: 
                translateY(-5px) 
                scale(1.02);
            filter: brightness(1.1);
        }
        
        .btn:active {
            transform: scale(0.98);
        }
        
        .btn-connect {
            background: var(--gradient-primary);
            color: white;
            box-shadow: 
                0 15px 35px rgba(99, 102, 241, 0.4),
                0 0 50px rgba(99, 102, 241, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.2);
            animation: 
                connectPulse 2s infinite,
                borderGlow 3s infinite;
        }
        
        @keyframes connectPulse {
            0%, 100% { box-shadow: 0 15px 35px rgba(99, 102, 241, 0.4), 0 0 50px rgba(99, 102, 241, 0.3); }
            50% { box-shadow: 0 20px 45px rgba(99, 102, 241, 0.6), 0 0 70px rgba(99, 102, 241, 0.5); }
        }
        
        @keyframes borderGlow {
            0%, 100% { border-color: rgba(255, 255, 255, 0.2); }
            50% { border-color: rgba(255, 255, 255, 0.5); }
        }
        
        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
            color: white;
            box-shadow: 0 15px 35px rgba(16, 185, 129, 0.4);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
            color: white;
            box-shadow: 0 15px 35px rgba(245, 158, 11, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%);
            color: white;
            box-shadow: 0 15px 35px rgba(139, 92, 246, 0.4);
        }
        
        /* ÙØ±Ù…â€ŒÙ‡Ø§ÛŒ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†ÛŒ */
        .form-group {
            margin: 25px 0;
            position: relative;
        }
        
        .form-label {
            display: block;
            margin-bottom: 15px;
            font-weight: 700;
            color: #e2e8f0;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 12px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .form-input, .form-select {
            width: 100%;
            padding: 20px;
            border: 2px solid #334155;
            border-radius: 18px;
            background: rgba(15, 23, 42, 0.7);
            color: white;
            font-size: 18px;
            font-family: 'Vazirmatn', sans-serif;
            transition: all 0.4s ease;
            box-shadow: inset 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .form-input:focus, .form-select:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 
                inset 0 4px 15px rgba(0, 0, 0, 0.3),
                0 0 25px rgba(99, 102, 241, 0.3);
            background: rgba(15, 23, 42, 0.9);
            transform: translateY(-3px);
        }
        
        /* Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø§ÙÚ©Øª ÙˆÛŒÚ˜Ù‡ */
        .user-panel {
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.9) 0%, rgba(30, 41, 59, 0.9) 100%);
            border-radius: 25px;
            padding: 30px;
            margin-top: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: none;
            animation: 
                slideDown 0.8s ease,
                panelGlow 4s infinite alternate;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        @keyframes panelGlow {
            0% { box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 30px rgba(99, 102, 241, 0.2); }
            100% { box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 50px rgba(99, 102, 241, 0.4); }
        }
        
        .wallet-display {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(139, 92, 246, 0.15) 100%);
            border-radius: 20px;
            padding: 25px;
            margin: 25px 0;
            border: 1px solid rgba(99, 102, 241, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .wallet-display::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: rotateSlow 20s linear infinite;
        }
        
        @keyframes rotateSlow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .wallet-address {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.4);
            padding: 18px;
            border-radius: 15px;
            word-break: break-all;
            font-size: 16px;
            color: #60a5fa;
            margin: 20px 0;
            border: 1px solid rgba(96, 165, 250, 0.3);
            position: relative;
            padding-right: 60px;
            backdrop-filter: blur(10px);
        }
        
        .balance-display {
            font-size: 48px;
            font-weight: 900;
            color: #10b981;
            text-align: center;
            margin: 30px 0;
            text-shadow: 
                0 5px 20px rgba(16, 185, 129, 0.4),
                0 0 30px rgba(16, 185, 129, 0.3);
            animation: balancePulse 3s infinite;
        }
        
        @keyframes balancePulse {
            0%, 100% { text-shadow: 0 5px 20px rgba(16, 185, 129, 0.4), 0 0 30px rgba(16, 185, 129, 0.3); }
            50% { text-shadow: 0 5px 30px rgba(16, 185, 129, 0.6), 0 0 50px rgba(16, 185, 129, 0.5); }
        }
        
        /* Ø¢Ù…Ø§Ø± Ø´Ø¨Ú©Ù‡ Ø¨Ø§ Ø§ÙÚ©Øªâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡ */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 30px;
        }
        
        .stat-card {
            background: rgba(30, 41, 59, 0.6);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        
        .stat-card:hover {
            transform: translateY(-8px) scale(1.05);
            border-color: var(--primary);
            box-shadow: 
                0 15px 35px rgba(99, 102, 241, 0.3),
                0 0 40px rgba(99, 102, 241, 0.2);
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }
        
        .stat-card:hover::before {
            transform: scaleX(1);
        }
        
        .stat-value {
            font-size: 32px;
            font-weight: 900;
            margin: 15px 0;
            color: var(--primary);
            text-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }
        
        .stat-label {
            font-size: 14px;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 600;
        }
        
        /* Ø¨Ø§Ú©Ø³ ÙˆÛŒÚ˜Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… */
        .promo-box {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.2) 0%, rgba(217, 119, 6, 0.2) 100%);
            border-radius: 25px;
            padding: 30px;
            margin: 30px 0;
            border: 1px solid rgba(245, 158, 11, 0.4);
            text-align: center;
            position: relative;
            overflow: hidden;
            animation: promoFloat 6s ease-in-out infinite;
        }
        
        @keyframes promoFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .promo-box::before {
            content: 'âœ¨';
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 40px;
            opacity: 0.4;
            animation: twinkle 2s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.4; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.2); }
        }
        
        .promo-amount {
            font-size: 56px;
            font-weight: 900;
            color: #f59e0b;
            margin: 15px 0;
            text-shadow: 
                0 5px 20px rgba(245, 158, 11, 0.4),
                0 0 40px rgba(245, 158, 11, 0.3);
            animation: amountGlow 3s infinite alternate;
        }
        
        @keyframes amountGlow {
            0% { text-shadow: 0 5px 20px rgba(245, 158, 11, 0.4), 0 0 40px rgba(245, 158, 11, 0.3); }
            100% { text-shadow: 0 5px 30px rgba(245, 158, 11, 0.6), 0 0 60px rgba(245, 158, 11, 0.5); }
        }
        
        /* Ù¾ÛŒØ´Ø±ÙØªâ€ŒØ¨Ø§Ø± Ù¾ÙˆÛŒØ§ */
        .progress-container {
            margin: 30px 0;
        }
        
        .progress-bar {
            height: 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
            position: relative;
            box-shadow: inset 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: 10px;
            width: 0%;
            transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: progressShine 2s infinite;
        }
        
        @keyframes progressShine {
            to { left: 100%; }
        }
        
        /* ÙÙˆØªØ± */
        .footer {
            text-align: center;
            margin-top: 60px;
            padding: 40px 25px;
            color: #64748b;
            font-size: 14px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
            backdrop-filter: blur(10px);
            border-radius: 30px;
            background: var(--glass);
        }
        
        .contract-display {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.4);
            padding: 15px 25px;
            border-radius: 15px;
            margin: 20px 0;
            font-size: 13px;
            color: #94a3b8;
            border: 1px solid rgba(255, 255, 255, 0.05);
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }
        
        .contract-display::before {
            content: 'ğŸ”—';
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
        }
        
        /* Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ */
        .notification {
            position: fixed;
            top: 40px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            padding: 25px 35px;
            border-radius: 20px;
            color: white;
            font-weight: 700;
            z-index: 2000;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.4),
                0 0 60px rgba(99, 102, 241, 0.3);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            max-width: 90%;
            text-align: center;
            opacity: 0;
            font-size: 16px;
        }
        
        .notification.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
        
        .notification.success {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.95) 0%, rgba(5, 150, 105, 0.95) 100%);
            border-color: rgba(16, 185, 129, 0.4);
        }
        
        .notification.error {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.95) 0%, rgba(220, 38, 38, 0.95) 100%);
            border-color: rgba(239, 68, 68, 0.4);
        }
        
        .notification.info {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.95) 0%, rgba(79, 70, 229, 0.95) 100%);
            border-color: rgba(99, 102, 241, 0.4);
        }
        
        /* Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ø§Ø± Ø²ÛŒØ¨Ø§ */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--gradient-primary);
            border-radius: 10px;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--gradient-rainbow);
        }
        
        /* Ø­Ø§Ù„Øª Ù…ÙˆØ¨Ø§ÛŒÙ„ */
        @media (max-width: 480px) {
            .main-container {
                padding: 15px;
            }
            
            .header {
                padding: 30px 20px;
            }
            
            .logo-title {
                font-size: 34px;
            }
            
            .card {
                padding: 30px 20px;
            }
            
            .btn {
                padding: 20px;
                font-size: 18px;
            }
            
            .balance-display {
                font-size: 40px;
            }
            
            .promo-amount {
                font-size: 48px;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }
    </style>
    
    <!-- Ethers.js -->
    <script src="https://cdn.ethers.io/lib/ethers-5.7.umd.min.js"></script>
    
    <!-- Particles.js -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
</head>
<body>
    <!-- Ø§ÙÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ù†ÙˆØ± -->
    <div class="light-effect light-effect-1"></div>
    <div class="light-effect light-effect-2"></div>
    
    <!-- Ù¾Ø§Ø±ØªÛŒÚ©Ù„â€ŒÙ‡Ø§ -->
    <div id="particles-js"></div>
    
    <!-- Ø¯Ú©Ù…Ù‡ Ø´Ù†Ø§ÙˆØ± -->
    <div class="floating-btn" onclick="scrollToTop()" style="background: var(--gradient-primary);">
        <i class="fas fa-arrow-up"></i>
    </div>
    
    <div class="main-container">
        <!-- Ù‡Ø¯Ø± -->
        <header class="header animate__animated animate__fadeInDown">
            <div class="logo-container">
                <div class="logo-icon">
                    <i class="fas fa-infinity"></i>
                </div>
                <div class="logo-text">
                    <h1 class="logo-title">SPS MATRIX</h1>
                    <p class="logo-subtitle typing-text">Ø³ÛŒØ³ØªÙ… Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù†Ø³Ù„ Ø¢ÛŒÙ†Ø¯Ù‡</p>
                </div>
            </div>
            
            <div style="margin-top: 20px;">
                <span class="badge" style="display: inline-block; background: var(--gradient-primary); color: white; padding: 10px 25px; border-radius: 50px; font-size: 15px; font-weight: 600;">
                    <i class="fas fa-bolt"></i> SafePal Optimized
                </span>
            </div>
        </header>
        
        <!-- Ú©Ø§Ø±Øª Ø§ØªØµØ§Ù„ Ú©ÛŒÙ Ù¾ÙˆÙ„ -->
        <div class="card animate__animated animate__fadeInUp" style="animation-delay: 0.1s;">
            <div class="card-header">
                <div class="card-icon">
                    <i class="fas fa-wallet"></i>
                </div>
                <h2 class="card-title">Ø§ØªØµØ§Ù„ Ú©ÛŒÙ Ù¾ÙˆÙ„</h2>
            </div>
            
            <button class="btn btn-connect" id="connectBtn">
                <i class="fas fa-plug"></i>
                <span id="connectText">Ø§ØªØµØ§Ù„ SafePal Wallet</span>
            </button>
            
            <div id="userInfo" class="user-panel">
                <h3 style="margin-bottom: 25px; color: #e2e8f0; display: flex; align-items: center; gap: 15px;">
                    <i class="fas fa-user-check" style="color: var(--secondary); font-size: 24px;"></i>
                    Ø­Ø³Ø§Ø¨ Ù…ØªØµÙ„ Ø´Ø¯Ù‡
                </h3>
                
                <div class="wallet-display">
                    <div class="form-label">
                        <i class="fas fa-address-card"></i>
                        Ø¢Ø¯Ø±Ø³ Ú©ÛŒÙ Ù¾ÙˆÙ„:
                    </div>
                    <div class="wallet-address" id="walletAddress"></div>
                    
                    <div style="text-align: center; margin: 30px 0;">
                        <div class="form-label">
                            <i class="fas fa-coins"></i>
                            Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø­Ø³Ø§Ø¨:
                        </div>
                        <div class="balance-display">
                            <span id="balance">0.00</span> <span style="font-size: 24px;">MATIC</span>
                        </div>
                    </div>
                    
                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-label">Ø´Ø¨Ú©Ù‡</div>
                            <div class="stat-value" id="network">Polygon</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">ÙˆØ¶Ø¹ÛŒØª</div>
                            <div class="stat-value" id="status" style="color: var(--secondary);">Ù…ØªØµÙ„</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Ú©Ø§Ø±Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… -->
        <div class="card animate__animated animate__fadeInUp" style="animation-delay: 0.2s;">
            <div class="card-header">
                <div class="card-icon" style="background: linear-gradient(135deg, #10b981 0%, #34d399 100%);">
                    <i class="fas fa-user-plus"></i>
                </div>
                <h2 class="card-title">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯</h2>
            </div>
            
            <div class="form-group">
                <label class="form-label">
                    <i class="fas fa-users"></i>
                    Ø¢ÛŒØ¯ÛŒ Ø¢Ù¾Ù„Ø§ÛŒÙ†:
                </label>
                <input type="number" id="uplineId" class="form-input" placeholder="Ù…Ø«Ø§Ù„: 1" min="1">
            </div>
            
            <div class="form-group">
                <label class="form-label">
                    <i class="fas fa-sitemap"></i>
                    Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯Ø± Ù…Ø§ØªØ±ÛŒÚ©Ø³:
                </label>
                <select id="position" class="form-select">
                    <option value="true">ğŸ‘ˆ Ø³Ù…Øª Ú†Ù¾ (Left)</option>
                    <option value="false">ğŸ‘‰ Ø³Ù…Øª Ø±Ø§Ø³Øª (Right)</option>
                </select>
            </div>
            
            <div class="promo-box">
                <div style="font-size: 20px; color: #fbbf24; margin-bottom: 15px; font-weight: 700;">
                    <i class="fas fa-gem"></i> Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ ÙˆÛŒÚ˜Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…
                </div>
                <div class="promo-amount">300 MATIC</div>
                <div style="color: #fde68a; font-size: 16px; margin-top: 15px;">
                    <i class="fas fa-star"></i>   ØªÙˆØ³Ø¹Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯
                </div>
            </div>
            
            <button class="btn btn-success" id="registerBtn">
                <i class="fas fa-check-circle"></i>
                Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¯Ø± Ø³ÛŒØ³ØªÙ…
            </button>
        </div>
        
        <!-- Ú©Ø§Ø±Øª Ø¹Ù…Ù„ÛŒØ§Øª -->
        <div class="card animate__animated animate__fadeInUp" style="animation-delay: 0.3s;">
            <div class="card-header">
                <div class="card-icon" style="background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);">
                    <i class="fas fa-bolt"></i>
                </div>
                <h2 class="card-title">Ø¹Ù…Ù„ÛŒØ§Øª Ø³Ø±ÛŒØ¹</h2>
            </div>
            
            <div class="stats-container">
                <button class="btn btn-warning" id="withdrawPoolBtn">
                    <i class="fas fa-money-bill-wave"></i>
                    Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ù¾ÙˆÙ„
                </button>
                
                <button class="btn btn-warning" id="withdrawSpecialBtn">
                    <i class="fas fa-crown"></i>
                    Ø¨Ø±Ø¯Ø§Ø´Øª ÙˆÛŒÚ˜Ù‡
                </button>
            </div>
            
            <div class="form-group" style="margin-top: 30px;">
                <label class="form-label">
                    <i class="fas fa-hand-holding-usd"></i>
                 Ú©Ù…Ú© Ø¨Ù‡ Ø§Ø³ØªØ®Ø± Ù…Ø§ÛŒÙ†Ø± (MATIC):
                </label>
                <input type="number" id="contributeAmount" class="form-input" placeholder="Ù…Ù‚Ø¯Ø§Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" step="0.001" min="0.001">
            </div>
            
            <button class="btn btn-secondary" id="contributeBtn">
                <i class="fas fa-donate"></i>
                Ø§Ø±Ø³Ø§Ù„ Ú©Ù…Ú©
            </button>
        </div>
        
        <!-- Ú©Ø§Ø±Øª Ø¢Ù…Ø§Ø± Ø´Ø¨Ú©Ù‡ -->
        <div class="card animate__animated animate__fadeInUp" style="animation-delay: 0.4s;">
            <div class="card-header">
                <div class="card-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h2 class="card-title">Ø¢Ù…Ø§Ø± Ø´Ø¨Ú©Ù‡</h2>
            </div>
            
            <div class="progress-container">
                <div class="form-label">Ù¾ÛŒØ´Ø±ÙØª Ø´Ø¨Ú©Ù‡:</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="networkProgress" style="width: 65%;"></div>
                </div>
            </div>
            
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-label">Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ú©Ù„</div>
                    <div class="stat-value" id="totalUsers">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù¾ÙˆÙ„</div>
                    <div class="stat-value" id="poolBalance">0</div>
                    <div class="stat-label">MATIC</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Ù¾ÙˆÙ„ ÙˆÛŒÚ˜Ù‡</div>
                    <div class="stat-value" id="specialPool">0</div>
                    <div class="stat-label">MATIC</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Ù…Ø§ÛŒÙ†Ø±Ù‡Ø§</div>
                    <div class="stat-value" id="minerCount">0</div>
                </div>
            </div>
        </div>
        
        <!-- ÙÙˆØªØ± -->
        <footer class="footer animate__animated animate__fadeIn" style="animation-delay: 0.5s;">
            <div style="margin-bottom: 25px;">
                <div style="font-size: 18px; color: #cbd5e1; margin-bottom: 15px; font-weight: 700;">
                    <i class="fas fa-link"></i> Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯
                </div>
                <div class="contract-display" id="contractAddressShort">
                    0x7a7b06D49129B34976D07B3854d4D72D01588191
                </div>
            </div>
            
            <div style="color: #94a3b8; font-size: 13px; line-height: 1.8;">
                <p style="margin-bottom: 10px; font-size: 16px; color: #e2e8f0;">SPS Matrix DApp â€¢ Ø´Ø¨Ú©Ù‡ Polygon Mainnet</p>
                <p style="margin-bottom: 10px;">Ø·Ø±Ø§Ø­ÛŒ Ultimate â€¢ Ù†Ø³Ø®Ù‡ Û´.Û°</p>
                <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.05);">
                    <p style="color: #64748b; font-size: 12px;">
                        <i class="fas fa-mobile-alt"></i> Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ØªØ±ÛŒÙ† ØªØ¬Ø±Ø¨Ù‡ Ø§Ø² Ù…Ø±ÙˆØ±Ú¯Ø± SafePal Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯
                    </p>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† -->
    <div id="notification" class="notification"></div>

    <script>
        // ==================== CONFIGURATION ====================
        const CONTRACT_ADDRESS = "0x7a7b06D49129B34976D07B3854d4D72D01588191";
        
        const CONTRACT_ABI = [
            "function register(uint256 uplineCode, bool placeOnLeft) external payable",
            "function withdrawPool() external",
            "function withdrawSpecials() external",
            "function contributeToMinerPool() external payable",
            "function getUserInfo(address user) external view returns (uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint256,bool)",
            "function poolBalance() external view returns(uint256)",
            "function specialRewardPool() external view returns(uint256)",
            "function totalUsers() external view returns(uint256)",
            "function eligiblePoolUserCount() external view returns(uint256)"
        ];
        
        // ==================== GLOBAL VARIABLES ====================
        let provider = null;
        let signer = null;
        let contract = null;
        let userAddress = null;
        
        // ==================== HELPER FUNCTIONS ====================
        function showNotification(message, type = 'success', duration = 4000) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            
            setTimeout(() => notification.classList.add('show'), 10);
            setTimeout(() => notification.classList.remove('show'), duration);
        }
        
        function formatAddress(address) {
            if (!address) return '---';
            return address.substring(0, 6) + '...' + address.substring(address.length - 4);
        }
        
        function formatMatic(value) {
            if (!value) return '0.00';
            const num = parseFloat(value);
            if (num < 0.001) return '< 0.001';
            return num.toFixed(2);
        }
        
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // ==================== PARTICLES.JS CONFIG ====================
        function initParticles() {
            if (typeof particlesJS !== 'undefined') {
                particlesJS('particles-js', {
                    particles: {
                        number: { value: 80, density: { enable: true, value_area: 800 } },
                        color: { value: "#6366f1" },
                        shape: { type: "circle" },
                        opacity: { value: 0.3, random: true },
                        size: { value: 3, random: true },
                        line_linked: {
                            enable: true,
                            distance: 150,
                            color: "#6366f1",
                            opacity: 0.2,
                            width: 1
                        },
                        move: {
                            enable: true,
                            speed: 2,
                            direction: "none",
                            random: true,
                            straight: false,
                            out_mode: "out",
                            bounce: false
                        }
                    },
                    interactivity: {
                        detect_on: "canvas",
                        events: {
                            onhover: { enable: true, mode: "repulse" },
                            onclick: { enable: true, mode: "push" },
                            resize: true
                        }
                    },
                    retina_detect: true
                });
            }
        }
        
        // ==================== WALLET CONNECTION ====================
        async function connectWallet() {
            console.log('Connecting wallet...');
            
            // Detect SafePal
            let ethereum = window.ethereum;
            if (!ethereum && window.safepal) {
                ethereum = window.safepal;
                window.ethereum = ethereum;
            }
            
            if (!ethereum) {
                showNotification('âŒ Ù„Ø·ÙØ§Ù‹ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø± SafePal Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯', 'error');
                return;
            }
            
            try {
                // Update button state
                const connectBtn = document.getElementById('connectBtn');
                const connectText = document.getElementById('connectText');
                connectBtn.innerHTML = '<div class="loader"></div> Ø¯Ø± Ø­Ø§Ù„ Ø§ØªØµØ§Ù„...';
                connectBtn.disabled = true;
                connectBtn.style.animation = 'none';
                
                // Request accounts
                const accounts = await ethereum.request({
                    method: 'eth_requestAccounts'
                });
                
                if (accounts.length === 0) {
                    throw new Error('No account selected');
                }
                
                userAddress = accounts[0];
                console.log('âœ… Connected:', userAddress);
                
                // Show user panel
                document.getElementById('userInfo').style.display = 'block';
                document.getElementById('walletAddress').textContent = userAddress;
                document.getElementById('status').textContent = 'Ù…ØªØµÙ„';
                document.getElementById('status').style.color = '#10b981';
                
                // Setup provider and contract
                provider = new ethers.providers.Web3Provider(ethereum);
                signer = provider.getSigner();
                contract = new ethers.Contract(CONTRACT_ADDRESS, CONTRACT_ABI, signer);
                
                // Get balance
                const balance = await provider.getBalance(userAddress);
                const maticBalance = ethers.utils.formatEther(balance);
                document.getElementById('balance').textContent = formatMatic(maticBalance);
                
                // Update network stats
                await updateNetworkStats();
                
                // Update button
                connectBtn.innerHTML = '<i class="fas fa-check"></i> <span>Ø§ØªØµØ§Ù„ Ù…ÙˆÙÙ‚</span>';
                connectBtn.style.background = 'linear-gradient(135deg, #10b981 0%, #34d399 100%)';
                
                showNotification('ğŸ‰ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ù…ØªØµÙ„ Ø´Ø¯! Ù…ÙˆØ¬ÙˆØ¯ÛŒ: ' + formatMatic(maticBalance) + ' MATIC', 'success');
                
                // Listen for account changes
                ethereum.on('accountsChanged', (newAccounts) => {
                    if (newAccounts.length > 0) {
                        userAddress = newAccounts[0];
                        document.getElementById('walletAddress').textContent = userAddress;
                        location.reload();
                    } else {
                        document.getElementById('userInfo').style.display = 'none';
                    }
                });
                
            } catch (error) {
                console.error('Connection error:', error);
                
                // Reset button
                const connectBtn = document.getElementById('connectBtn');
                connectBtn.innerHTML = '<i class="fas fa-plug"></i> <span>Ø§ØªØµØ§Ù„ SafePal Wallet</span>';
                connectBtn.disabled = false;
                connectBtn.style.animation = 'connectPulse 2s infinite, borderGlow 3s infinite';
                
                let errorMsg = 'Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„';
                if (error.code === 4001) {
                    errorMsg = 'Ú©Ø§Ø±Ø¨Ø± Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø±Ø§ Ø±Ø¯ Ú©Ø±Ø¯';
                } else if (error.message.includes('not installed')) {
                    errorMsg = 'SafePal ÛŒØ§ÙØª Ù†Ø´Ø¯';
                }
                
                showNotification(`âŒ ${errorMsg}`, 'error');
            }
        }
        
        // ==================== NETWORK STATS ====================
        async function updateNetworkStats() {
            if (!contract) return;
            
            try {
                const [totalUsers, poolBalance, specialPool, minerCount] = await Promise.all([
                    contract.totalUsers(),
                    contract.poolBalance(),
                    contract.specialRewardPool(),
                    contract.eligiblePoolUserCount()
                ]);
                
                document.getElementById('totalUsers').textContent = totalUsers.toString();
                document.getElementById('poolBalance').textContent = formatMatic(ethers.utils.formatEther(poolBalance));
                document.getElementById('specialPool').textContent = formatMatic(ethers.utils.formatEther(specialPool));
                document.getElementById('minerCount').textContent = minerCount.toString();
                
                // Update progress bar
                const progress = Math.min(parseInt(totalUsers) / 1000 * 100, 100);
                document.getElementById('networkProgress').style.width = progress + '%';
                
            } catch (error) {
                console.error('Error updating stats:', error);
            }
        }
        
        // ==================== USER REGISTRATION ====================
        async function registerUser() {
            if (!contract || !userAddress) {
                showNotification('âŒ Ù„Ø·ÙØ§Ù‹ Ø§ÙˆÙ„ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø±Ø§ Ù…ØªØµÙ„ Ú©Ù†ÛŒØ¯', 'error');
                return;
            }
            
            const uplineId = document.getElementById('uplineId').value;
            const position = document.getElementById('position').value === 'true';
            
            if (!uplineId) {
                showNotification('âŒ Ù„Ø·ÙØ§Ù‹ Ø¢ÛŒØ¯ÛŒ Ø¢Ù¾Ù„Ø§ÛŒÙ† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'error');
                return;
            }
            
            try {
                const btn = document.getElementById('registerBtn');
                btn.innerHTML = '<div class="loader"></div> Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´...';
                btn.disabled = true;
                
                showNotification('â³ Ø§Ø±Ø³Ø§Ù„ ØªØ±Ø§Ú©Ù†Ø´ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…...', 'info');
                
                const fee = ethers.utils.parseEther("300");
                const tx = await contract.register(uplineId, position, { 
                    value: fee,
                    gasLimit: 300000
                });
                
                showNotification('âœ… ØªØ±Ø§Ú©Ù†Ø´ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯! Ù…Ù†ØªØ¸Ø± ØªØ§ÛŒÛŒØ¯...', 'success');
                
                await tx.wait();
                
                showNotification('ğŸ‰ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!', 'success');
                document.getElementById('uplineId').value = '';
                
                await updateNetworkStats();
                
            } catch (error) {
                console.error('Registration error:', error);
                showNotification(`âŒ Ø®Ø·Ø§: ${error.message}`, 'error');
            } finally {
                const btn = document.getElementById('registerBtn');
                btn.innerHTML = '<i class="fas fa-check-circle"></i> Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¯Ø± Ø³ÛŒØ³ØªÙ…';
                btn.disabled = false;
            }
        }
        
        // ==================== OTHER FUNCTIONS ====================
        async function withdrawPool() {
            if (!contract) {
                showNotification('âŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ù…ØªØµÙ„ Ù†ÛŒØ³Øª', 'error');
                return;
            }
            
            try {
                const tx = await contract.withdrawPool();
                showNotification('â³ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ù¾ÙˆÙ„...', 'info');
                await tx.wait();
                showNotification('âœ… Ø¨Ø±Ø¯Ø§Ø´Øª Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ² Ø¨ÙˆØ¯!', 'success');
                await updateNetworkStats();
            } catch (error) {
                showNotification(`âŒ Ø®Ø·Ø§: ${error.message}`, 'error');
            }
        }
        
        async function withdrawSpecial() {
            if (!contract) {
                showNotification('âŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ù…ØªØµÙ„ Ù†ÛŒØ³Øª', 'error');
                return;
            }
            
            try {
                const tx = await contract.withdrawSpecials();
                showNotification('â³ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ù¾ÙˆÙ„ ÙˆÛŒÚ˜Ù‡...', 'info');
                await tx.wait();
                showNotification('âœ… Ø¨Ø±Ø¯Ø§Ø´Øª ÙˆÛŒÚ˜Ù‡ Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ² Ø¨ÙˆØ¯!', 'success');
                await updateNetworkStats();
            } catch (error) {
                showNotification(`âŒ Ø®Ø·Ø§: ${error.message}`, 'error');
            }
        }
        
        async function contributeToMiner() {
            const amount = document.getElementById('contributeAmount').value;
            
            if (!amount) {
                showNotification('âŒ Ù„Ø·ÙØ§Ù‹ Ù…Ù‚Ø¯Ø§Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'error');
                return;
            }
            
            if (!contract) {
                showNotification('âŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ù…ØªØµÙ„ Ù†ÛŒØ³Øª', 'error');
                return;
            }
            
            try {
                const btn = document.getElementById('contributeBtn');
                btn.innerHTML = '<div class="loader"></div> Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„...';
                btn.disabled = true;
                
                const value = ethers.utils.parseEther(amount);
                const tx = await contract.contributeToMinerPool({ 
                    value,
                    gasLimit: 200000
                });
                
                showNotification('â³ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ Ú©Ù…Ú©...', 'info');
                await tx.wait();
                
                showNotification('âœ… Ú©Ù…Ú© Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯!', 'success');
                document.getElementById('contributeAmount').value = '';
                
            } catch (error) {
                showNotification(`âŒ Ø®Ø·Ø§: ${error.message}`, 'error');
            } finally {
                const btn = document.getElementById('contributeBtn');
                btn.innerHTML = '<i class="fas fa-donate"></i> Ø§Ø±Ø³Ø§Ù„ Ú©Ù…Ú©';
                btn.disabled = false;
            }
        }
        
        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize particles
            initParticles();
            
            // Setup event listeners
            document.getElementById('connectBtn').addEventListener('click', connectWallet);
            document.getElementById('registerBtn').addEventListener('click', registerUser);
            document.getElementById('withdrawPoolBtn').addEventListener('click', withdrawPool);
            document.getElementById('withdrawSpecialBtn').addEventListener('click', withdrawSpecial);
            document.getElementById('contributeBtn').addEventListener('click', contributeToMiner);
            
            // Show contract address
            document.getElementById('contractAddressShort').textContent = 
                CONTRACT_ADDRESS.substring(0, 8) + '...' + CONTRACT_ADDRESS.substring(CONTRACT_ADDRESS.length - 8);
            
            // Auto-check for wallet
            if (typeof window.ethereum !== 'undefined') {
                window.ethereum.request({ method: 'eth_accounts' })
                    .then(accounts => {
                        if (accounts.length > 0) {
                            setTimeout(() => connectWallet(), 1500);
                        }
                    });
            }
            
            // Scroll animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate__animated', 'animate__fadeInUp');
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);
            
            document.querySelectorAll('.card').forEach(card => {
                observer.observe(card);
            });
        });
    </script>
</body>
</html>